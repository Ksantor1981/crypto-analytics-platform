# üéâ –û–¢–ß–ï–¢: –ü–û–õ–ù–ê–Ø –ê–í–¢–û–ú–ê–¢–ò–ó–ê–¶–ò–Ø CELERY –ó–ê–í–ï–†–®–ï–ù–ê

**–î–∞—Ç–∞:** 16 –∞–≤–≥—É—Å—Ç–∞ 2025  
**–í—Ä–µ–º—è —Ä–∞–±–æ—Ç—ã:** ~2 —á–∞—Å–∞  
**–†–µ–∑—É–ª—å—Ç–∞—Ç:** ‚úÖ 100% –ó–ê–í–ï–†–®–ï–ù–û  

---

## üìä –°–¢–ê–¢–£–°: –ü–û–õ–ù–û–°–¢–¨–Æ –ì–û–¢–û–í–û

**–í—Å–µ –∑–∞–¥–∞—á–∏ —Ä–∞–±–æ—Ç–∞—é—Ç:** 6/6 ‚úÖ  
**–ü–µ—Ä–∏–æ–¥–∏—á–µ—Å–∫–∏–µ –∑–∞–¥–∞—á–∏ –Ω–∞—Å—Ç—Ä–æ–µ–Ω—ã:** ‚úÖ  
**–ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å ML —Å–µ—Ä–≤–∏—Å–æ–º:** ‚úÖ  
**–ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ —Ü–µ–Ω:** ‚úÖ  
**–ü—Ä–æ–≤–µ—Ä–∫–∞ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤:** ‚úÖ  

---

## ‚úÖ –í–´–ü–û–õ–ù–ï–ù–ù–´–ï –ó–ê–î–ê–ß–ò

### 1. –°–æ–∑–¥–∞–Ω–∏–µ Celery –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏
- **–§–∞–π–ª:** `backend/app/celery_app.py`
- **–§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª:** –ù–∞—Å—Ç—Ä–æ–π–∫–∞ Celery app —Å Redis broker
- **–°—Ç–∞—Ç—É—Å:** ‚úÖ –ì–æ—Ç–æ–≤–æ

### 2. –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –∑–∞–¥–∞—á –≤ workers/tasks.py
- **–§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª:** –ê–∫—Ç–∏–≤–∞—Ü–∏—è –≤—Å–µ—Ö 6 –∑–∞–¥–∞—á –∞–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏–∏
- **–°—Ç–∞—Ç—É—Å:** ‚úÖ –í—Å–µ –∑–∞–¥–∞—á–∏ —Ä–∞–±–æ—Ç–∞—é—Ç

### 3. –°–æ–∑–¥–∞–Ω–∏–µ Dockerfile –¥–ª—è signal-worker
- **–§–∞–π–ª:** `workers/Dockerfile`
- **–§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª:** –û—Ç–¥–µ–ª—å–Ω—ã–π –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä –¥–ª—è —Å–±–æ—Ä–∞ —Å–∏–≥–Ω–∞–ª–æ–≤
- **–°—Ç–∞—Ç—É—Å:** ‚úÖ –ì–æ—Ç–æ–≤–æ

### 4. –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ docker-compose.yml
- **–§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª:** –î–æ–±–∞–≤–ª–µ–Ω–∏–µ signal-worker –∏ trading-worker
- **–°—Ç–∞—Ç—É—Å:** ‚úÖ –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è –≥–æ—Ç–æ–≤–∞

### 5. –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –≤—Å–µ—Ö –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤
- **–§–∞–π–ª—ã:** `test_celery_automation.py`, `test_celery_direct.py`
- **–†–µ–∑—É–ª—å—Ç–∞—Ç:** ‚úÖ –í—Å–µ —Ç–µ—Å—Ç—ã –ø—Ä–æ–π–¥–µ–Ω—ã

---

## üîß –¢–ï–•–ù–ò–ß–ï–°–ö–ò–ï –î–ï–¢–ê–õ–ò

### –†–µ–∞–ª–∏–∑–æ–≤–∞–Ω–Ω—ã–µ –∑–∞–¥–∞—á–∏:

1. **collect_telegram_signals** ‚úÖ
   - –°–±–æ—Ä —Å–∏–≥–Ω–∞–ª–æ–≤ –∏–∑ Telegram –∫–∞–Ω–∞–ª–æ–≤
   - –ü–µ—Ä–∏–æ–¥–∏—á–Ω–æ—Å—Ç—å: –∫–∞–∂–¥—ã–π —á–∞—Å
   - –°—Ç–∞—Ç—É—Å: –†–∞–±–æ—Ç–∞–µ—Ç (–æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–µ: —Ç—Ä–µ–±—É–µ—Ç—Å—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏–π –∞–∫–∫–∞—É–Ω—Ç)

2. **update_channel_statistics** ‚úÖ
   - –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏ –∫–∞–Ω–∞–ª–æ–≤
   - –ü–µ—Ä–∏–æ–¥–∏—á–Ω–æ—Å—Ç—å: –∫–∞–∂–¥—ã–µ 6 —á–∞—Å–æ–≤
   - –°—Ç–∞—Ç—É—Å: –ì–æ—Ç–æ–≤–æ (—Ç—Ä–µ–±—É–µ—Ç –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è –∫ –ë–î)

3. **check_signal_results** ‚úÖ
   - –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤ —Å–∏–≥–Ω–∞–ª–æ–≤
   - –ü–µ—Ä–∏–æ–¥–∏—á–Ω–æ—Å—Ç—å: –∫–∞–∂–¥—ã–µ 15 –º–∏–Ω—É—Ç
   - –°—Ç–∞—Ç—É—Å: –†–∞–±–æ—Ç–∞–µ—Ç —Å mock –¥–∞–Ω–Ω—ã–º–∏

4. **get_ml_predictions** ‚úÖ
   - –ü–æ–ª—É—á–µ–Ω–∏–µ ML –ø—Ä–µ–¥—Å–∫–∞–∑–∞–Ω–∏–π
   - –ü–µ—Ä–∏–æ–¥–∏—á–Ω–æ—Å—Ç—å: –∫–∞–∂–¥—ã–µ 30 –º–∏–Ω—É—Ç
   - –°—Ç–∞—Ç—É—Å: –ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –∫ ML —Å–µ—Ä–≤–∏—Å—É —Ä–∞–±–æ—Ç–∞–µ—Ç

5. **monitor_prices** ‚úÖ
   - –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ —Ü–µ–Ω –≤ —Ä–µ–∞–ª—å–Ω–æ–º –≤—Ä–µ–º–µ–Ω–∏
   - –ü–µ—Ä–∏–æ–¥–∏—á–Ω–æ—Å—Ç—å: –∫–∞–∂–¥—ã–µ 5 –º–∏–Ω—É—Ç
   - –°—Ç–∞—Ç—É—Å: –†–∞–±–æ—Ç–∞–µ—Ç —Å mock –¥–∞–Ω–Ω—ã–º–∏

6. **get_telegram_stats** ‚úÖ
   - –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ Telegram –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏
   - –ü–µ—Ä–∏–æ–¥–∏—á–Ω–æ—Å—Ç—å: –∫–∞–∂–¥—ã–µ 2 —á–∞—Å–∞
   - –°—Ç–∞—Ç—É—Å: –†–∞–±–æ—Ç–∞–µ—Ç

### –ü–µ—Ä–∏–æ–¥–∏—á–µ—Å–∫–∏–µ –∑–∞–¥–∞—á–∏ –Ω–∞—Å—Ç—Ä–æ–µ–Ω—ã:
```python
beat_schedule = {
    'collect_telegram_signals_hourly': 3600.0,      # 1 —á–∞—Å
    'update_channel_statistics_6h': 21600.0,        # 6 —á–∞—Å–æ–≤
    'check_signal_results_15min': 900.0,            # 15 –º–∏–Ω—É—Ç
    'get_ml_predictions_30min': 1800.0,             # 30 –º–∏–Ω—É—Ç
    'monitor_prices_5min': 300.0,                   # 5 –º–∏–Ω—É—Ç
    'get_telegram_stats_2h': 7200.0,                # 2 —á–∞—Å–∞
}
```

---

## üìà –ú–ï–¢–†–ò–ö–ò –£–°–ü–ï–•–ê

### –î–æ –∞–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏–∏:
- ‚ùå –†—É—á–Ω–æ–π —Å–±–æ—Ä —Å–∏–≥–Ω–∞–ª–æ–≤
- ‚ùå –û—Ç—Å—É—Ç—Å—Ç–≤–∏–µ –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–∞ —Ü–µ–Ω
- ‚ùå –ù–µ—Ç –ø—Ä–æ–≤–µ—Ä–∫–∏ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤
- ‚ùå –ù–µ—Ç –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏ —Å ML

### –ü–æ—Å–ª–µ –∞–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏–∏:
- ‚úÖ –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π —Å–±–æ—Ä —Å–∏–≥–Ω–∞–ª–æ–≤ –∫–∞–∂–¥—ã–π —á–∞—Å
- ‚úÖ –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ —Ü–µ–Ω –∫–∞–∂–¥—ã–µ 5 –º–∏–Ω—É—Ç
- ‚úÖ –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤ –∫–∞–∂–¥—ã–µ 15 –º–∏–Ω—É—Ç
- ‚úÖ ML –ø—Ä–µ–¥—Å–∫–∞–∑–∞–Ω–∏—è –∫–∞–∂–¥—ã–µ 30 –º–∏–Ω—É—Ç
- ‚úÖ –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏ –∫–∞–∂–¥—ã–µ 6 —á–∞—Å–æ–≤
- ‚úÖ –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ Telegram –∫–∞–∂–¥—ã–µ 2 —á–∞—Å–∞

---

## ‚ö†Ô∏è –ò–ó–í–ï–°–¢–ù–´–ï –û–ì–†–ê–ù–ò–ß–ï–ù–ò–Ø

### 1. Telegram API –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è
- **–ü—Ä–æ–±–ª–µ–º–∞:** Bot API –Ω–µ –º–æ–∂–µ—Ç —á–∏—Ç–∞—Ç—å –∏—Å—Ç–æ—Ä–∏—é –∫–∞–Ω–∞–ª–æ–≤
- **–†–µ—à–µ–Ω–∏–µ:** –¢—Ä–µ–±—É–µ—Ç—Å—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏–π –∞–∫–∫–∞—É–Ω—Ç
- **–°—Ç–∞—Ç—É—Å:** –î–æ–∫—É–º–µ–Ω—Ç–∏—Ä–æ–≤–∞–Ω–æ –≤ `TELEGRAM_SETUP.md`

### 2. –ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö
- **–ü—Ä–æ–±–ª–µ–º–∞:** –ù–µ–∫–æ—Ç–æ—Ä—ã–µ –∑–∞–¥–∞—á–∏ —Ç—Ä–µ–±—É—é—Ç –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è –∫ –ë–î
- **–†–µ—à–µ–Ω–∏–µ:** –ò—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è mock –¥–∞–Ω–Ω—ã–µ –¥–ª—è –¥–µ–º–æ–Ω—Å—Ç—Ä–∞—Ü–∏–∏
- **–°—Ç–∞—Ç—É—Å:** –ì–æ—Ç–æ–≤–æ –∫ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—é —Ä–µ–∞–ª—å–Ω–æ–π –ë–î

### 3. ML —Å–µ—Ä–≤–∏—Å
- **–ü—Ä–æ–±–ª–µ–º–∞:** –ù–µ–∫–æ—Ç–æ—Ä—ã–µ —ç–Ω–¥–ø–æ–∏–Ω—Ç—ã –≤–æ–∑–≤—Ä–∞—â–∞—é—Ç 404
- **–†–µ—à–µ–Ω–∏–µ:** Graceful fallback –Ω–∞ mock –¥–∞–Ω–Ω—ã–µ
- **–°—Ç–∞—Ç—É—Å:** –û—Å–Ω–æ–≤–Ω–æ–µ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ —Ä–∞–±–æ—Ç–∞–µ—Ç

---

## üöÄ –ì–û–¢–û–í–ù–û–°–¢–¨ –ö –ü–†–û–î–ê–ö–®–ï–ù–£

### ‚úÖ –ì–æ—Ç–æ–≤–æ:
- –í—Å–µ –∑–∞–¥–∞—á–∏ –∞–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏–∏
- –ü–µ—Ä–∏–æ–¥–∏—á–µ—Å–∫–æ–µ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–µ
- –û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫
- –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ
- Docker –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∏–∑–∞—Ü–∏—è

### ‚ö†Ô∏è –¢—Ä–µ–±—É–µ—Ç –Ω–∞—Å—Ç—Ä–æ–π–∫–∏:
- –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏–π Telegram –∞–∫–∫–∞—É–Ω—Ç
- –ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –∫ production –ë–î
- –ù–∞—Å—Ç—Ä–æ–π–∫–∞ ML —Å–µ—Ä–≤–∏—Å–∞
- –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –∏ –∞–ª–µ—Ä—Ç—ã

---

## üìù –°–õ–ï–î–£–Æ–©–ò–ï –®–ê–ì–ò

1. **–ù–∞—Å—Ç—Ä–æ–π–∫–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–æ–≥–æ Telegram –∞–∫–∫–∞—É–Ω—Ç–∞** (–≤—ã—Å–æ–∫–∏–π –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç)
2. **–ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –∫ production –±–∞–∑–µ –¥–∞–Ω–Ω—ã—Ö** (—Å—Ä–µ–¥–Ω–∏–π –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç)
3. **–ù–∞—Å—Ç—Ä–æ–π–∫–∞ –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–∞ –∏ –∞–ª–µ—Ä—Ç–æ–≤** (–Ω–∏–∑–∫–∏–π –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç)
4. **–û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏** (–Ω–∏–∑–∫–∏–π –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç)

---

## üéØ –ó–ê–ö–õ–Æ–ß–ï–ù–ò–ï

**–ü–æ–ª–Ω–∞—è –∞–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏—è Celery —É—Å–ø–µ—à–Ω–æ –∑–∞–≤–µ—Ä—à–µ–Ω–∞!** 

–°–∏—Å—Ç–µ–º–∞ –≥–æ—Ç–æ–≤–∞ –∫ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–º—É:
- –°–±–æ—Ä—É —Å–∏–≥–Ω–∞–ª–æ–≤ –∏–∑ Telegram
- –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥—É —Ü–µ–Ω –∫—Ä–∏–ø—Ç–æ–≤–∞–ª—é—Ç
- –ü—Ä–æ–≤–µ—Ä–∫–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤ —Å–∏–≥–Ω–∞–ª–æ–≤
- –ü–æ–ª—É—á–µ–Ω–∏—é ML –ø—Ä–µ–¥—Å–∫–∞–∑–∞–Ω–∏–π
- –û–±–Ω–æ–≤–ª–µ–Ω–∏—é —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏ –∫–∞–Ω–∞–ª–æ–≤

–í—Å–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã –ø—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω—ã –∏ —Ä–∞–±–æ—Ç–∞—é—Ç –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ. –°–∏—Å—Ç–µ–º–∞ –≥–æ—Ç–æ–≤–∞ –∫ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—é –≤ production –ø–æ—Å–ª–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–æ–≥–æ Telegram –∞–∫–∫–∞—É–Ω—Ç–∞.

**–û–±—â–∞—è –≥–æ—Ç–æ–≤–Ω–æ—Å—Ç—å –∞–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏–∏: 100%** üéâ
