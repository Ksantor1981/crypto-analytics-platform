<!doctype html>
<html lang="ru">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>–¢–µ—Å—Ç —Å–∏—Å—Ç–µ–º—ã —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π - CryptoAnalytics</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
      @keyframes slideInRight {
        from {
          transform: translateX(100%);
          opacity: 0;
        }
        to {
          transform: translateX(0);
          opacity: 1;
        }
      }
      @keyframes slideOutRight {
        from {
          transform: translateX(0);
          opacity: 1;
        }
        to {
          transform: translateX(100%);
          opacity: 0;
        }
      }
      .toast-enter {
        animation: slideInRight 0.3s ease-out;
      }
      .toast-exit {
        animation: slideOutRight 0.3s ease-in;
      }
    </style>
  </head>
  <body class="bg-gray-100 min-h-screen">
    <div class="container mx-auto p-6">
      <header class="text-center mb-8">
        <h1 class="text-4xl font-bold text-gray-900 mb-2">
          üîî –¢–µ—Å—Ç —Å–∏—Å—Ç–µ–º—ã —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π
        </h1>
        <p class="text-gray-600">
          –î–µ–º–æ–Ω—Å—Ç—Ä–∞—Ü–∏—è Real-time —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π –¥–ª—è CryptoAnalytics Platform
        </p>
      </header>

      <!-- –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ -->
      <div class="grid grid-cols-1 md:grid-cols-4 gap-4 mb-8">
        <div class="bg-white rounded-lg p-4 shadow">
          <div class="text-2xl font-bold text-blue-600" id="totalNotifications">
            0
          </div>
          <div class="text-sm text-gray-600">–í—Å–µ–≥–æ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π</div>
        </div>
        <div class="bg-white rounded-lg p-4 shadow">
          <div
            class="text-2xl font-bold text-green-600"
            id="signalNotifications"
          >
            0
          </div>
          <div class="text-sm text-gray-600">–°–∏–≥–Ω–∞–ª—ã</div>
        </div>
        <div class="bg-white rounded-lg p-4 shadow">
          <div
            class="text-2xl font-bold text-yellow-600"
            id="alertNotifications"
          >
            0
          </div>
          <div class="text-sm text-gray-600">–ê–ª–µ—Ä—Ç—ã</div>
        </div>
        <div class="bg-white rounded-lg p-4 shadow">
          <div class="text-2xl font-bold text-red-600" id="urgentNotifications">
            0
          </div>
          <div class="text-sm text-gray-600">–°—Ä–æ—á–Ω—ã–µ</div>
        </div>
      </div>

      <!-- –ö–Ω–æ–ø–∫–∏ —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è -->
      <div class="grid grid-cols-2 md:grid-cols-4 gap-4 mb-8">
        <button
          onclick="showSignalNotification()"
          class="bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 transition-colors"
        >
          üìà –ù–æ–≤—ã–π —Å–∏–≥–Ω–∞–ª
        </button>
        <button
          onclick="showTargetReached()"
          class="bg-green-600 text-white px-4 py-2 rounded-lg hover:bg-green-700 transition-colors"
        >
          üéØ –¶–µ–ª—å –¥–æ—Å—Ç–∏–≥–Ω—É—Ç–∞
        </button>
        <button
          onclick="showPriceAlert()"
          class="bg-purple-600 text-white px-4 py-2 rounded-lg hover:bg-purple-700 transition-colors"
        >
          üí∞ –¶–µ–Ω–æ–≤–æ–π –∞–ª–µ—Ä—Ç
        </button>
        <button
          onclick="showStopLoss()"
          class="bg-red-600 text-white px-4 py-2 rounded-lg hover:bg-red-700 transition-colors"
        >
          ‚ö†Ô∏è –°—Ç–æ–ø-–ª–æ—Å—Å
        </button>
      </div>

      <!-- –ù–∞—Å—Ç—Ä–æ–π–∫–∏ -->
      <div class="bg-white rounded-lg shadow p-6 mb-8">
        <h3 class="text-lg font-semibold mb-4">‚öôÔ∏è –ù–∞—Å—Ç—Ä–æ–π–∫–∏ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π</h3>
        <div class="grid grid-cols-1 md:grid-cols-3 gap-4">
          <label class="flex items-center space-x-2">
            <input
              type="checkbox"
              id="browserNotifications"
              checked
              class="rounded"
            />
            <span>–ë—Ä–∞—É–∑–µ—Ä–Ω—ã–µ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è</span>
          </label>
          <label class="flex items-center space-x-2">
            <input type="checkbox" id="soundEnabled" checked class="rounded" />
            <span>–ó–≤—É–∫–æ–≤—ã–µ —Å–∏–≥–Ω–∞–ª—ã</span>
          </label>
          <label class="flex items-center space-x-2">
            <input type="checkbox" id="autoHide" checked class="rounded" />
            <span>–ê–≤—Ç–æ—Å–∫—Ä—ã—Ç–∏–µ</span>
          </label>
        </div>
      </div>

      <!-- –ö–Ω–æ–ø–∫–∏ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è -->
      <div class="grid grid-cols-1 md:grid-cols-3 gap-4 mb-8">
        <button
          onclick="requestNotificationPermission()"
          class="bg-gray-600 text-white px-4 py-2 rounded-lg hover:bg-gray-700 transition-colors"
        >
          üîê –ó–∞–ø—Ä–æ—Å–∏—Ç—å —Ä–∞–∑—Ä–µ—à–µ–Ω–∏—è
        </button>
        <button
          onclick="testBrowserNotification()"
          class="bg-indigo-600 text-white px-4 py-2 rounded-lg hover:bg-indigo-700 transition-colors"
        >
          üñ•Ô∏è –¢–µ—Å—Ç –±—Ä–∞—É–∑–µ—Ä–∞
        </button>
        <button
          onclick="clearAllNotifications()"
          class="bg-gray-500 text-white px-4 py-2 rounded-lg hover:bg-gray-600 transition-colors"
        >
          üóëÔ∏è –û—á–∏—Å—Ç–∏—Ç—å –≤—Å–µ
        </button>
      </div>

      <!-- –û–±–ª–∞—Å—Ç—å —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π -->
      <div class="bg-white rounded-lg shadow p-6">
        <h3 class="text-lg font-semibold mb-4">üìã –ò—Å—Ç–æ—Ä–∏—è —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π</h3>
        <div
          id="notificationHistory"
          class="space-y-2 max-h-96 overflow-y-auto"
        >
          <p class="text-gray-500 text-center py-8">–ù–µ—Ç —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π</p>
        </div>
      </div>
    </div>

    <!-- Toast Container -->
    <div id="toastContainer" class="fixed top-4 right-4 z-50 space-y-2"></div>

    <script>
      // –°–æ—Å—Ç–æ—è–Ω–∏–µ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π
      let notificationCount = 0;
      let signalCount = 0;
      let alertCount = 0;
      let urgentCount = 0;

      // –¢–∏–ø—ã —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π
      const notificationTypes = {
        signal: {
          icon: 'üìà',
          color: 'blue',
          title: '–ù–æ–≤—ã–π —Ç–æ—Ä–≥–æ–≤—ã–π —Å–∏–≥–Ω–∞–ª',
          messages: [
            'BTC/USDT LONG –æ—Ç CryptoSignals Pro',
            'ETH/USDT SHORT —Å confidence 92%',
            'ADA/USDT LONG –æ—Ç WhaleSignals',
            'DOGE/USDT SHORT –æ—Ç TradingBot',
          ],
        },
        target: {
          icon: 'üéØ',
          color: 'green',
          title: '–¶–µ–ª—å –¥–æ—Å—Ç–∏–≥–Ω—É—Ç–∞',
          messages: [
            'BTC/USDT –¥–æ—Å—Ç–∏–≥ TP1 (+4.2%)',
            'ETH/USDT –¥–æ—Å—Ç–∏–≥ TP2 (+7.8%)',
            'ADA/USDT –¥–æ—Å—Ç–∏–≥ TP1 (+3.1%)',
          ],
        },
        price: {
          icon: 'üí∞',
          color: 'purple',
          title: '–¶–µ–Ω–æ–≤–æ–π –∞–ª–µ—Ä—Ç',
          messages: [
            'BTC –¥–æ—Å—Ç–∏–≥ $100,000!',
            'ETH –ø—Ä–µ–≤—ã—Å–∏–ª $5,000',
            'BNB —É–ø–∞–ª –Ω–∏–∂–µ $500',
          ],
        },
        stop: {
          icon: '‚ö†Ô∏è',
          color: 'red',
          title: '–°—Ç–æ–ø-–ª–æ—Å—Å —Å—Ä–∞–±–æ—Ç–∞–ª',
          messages: [
            'ADA/USDT –¥–æ—Å—Ç–∏–≥ SL (-2.1%)',
            'DOGE/USDT –¥–æ—Å—Ç–∏–≥ SL (-3.5%)',
            'BNB/USDT –¥–æ—Å—Ç–∏–≥ SL (-1.8%)',
          ],
        },
      };

      // –§—É–Ω–∫—Ü–∏–∏ —Å–æ–∑–¥–∞–Ω–∏—è —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π
      function showSignalNotification() {
        const type = notificationTypes.signal;
        const message =
          type.messages[Math.floor(Math.random() * type.messages.length)];
        showNotification(type.title, message, type.icon, type.color, false);
        signalCount++;
        updateCounters();
      }

      function showTargetReached() {
        const type = notificationTypes.target;
        const message =
          type.messages[Math.floor(Math.random() * type.messages.length)];
        showNotification(type.title, message, type.icon, type.color, false);
        updateCounters();
      }

      function showPriceAlert() {
        const type = notificationTypes.price;
        const message =
          type.messages[Math.floor(Math.random() * type.messages.length)];
        showNotification(type.title, message, type.icon, type.color, true);
        alertCount++;
        urgentCount++;
        updateCounters();
      }

      function showStopLoss() {
        const type = notificationTypes.stop;
        const message =
          type.messages[Math.floor(Math.random() * type.messages.length)];
        showNotification(type.title, message, type.icon, type.color, true);
        urgentCount++;
        updateCounters();
      }

      function showNotification(title, message, icon, color, urgent) {
        notificationCount++;

        // Toast —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ
        createToast(title, message, icon, color, urgent);

        // –î–æ–±–∞–≤–ª—è–µ–º –≤ –∏—Å—Ç–æ—Ä–∏—é
        addToHistory(title, message, icon, urgent);

        // –ë—Ä–∞—É–∑–µ—Ä–Ω–æ–µ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ
        if (document.getElementById('browserNotifications').checked) {
          showBrowserNotification(title, message);
        }

        // –ó–≤—É–∫
        if (document.getElementById('soundEnabled').checked) {
          playNotificationSound();
        }

        updateCounters();
      }

      function createToast(title, message, icon, color, urgent) {
        const toast = document.createElement('div');
        toast.className = `toast-enter p-4 bg-white rounded-lg shadow-lg border-l-4 border-l-${color}-500 max-w-sm ${urgent ? 'ring-2 ring-red-300' : ''}`;

        toast.innerHTML = `
                <div class="flex items-start">
                    <div class="flex-shrink-0 text-2xl">${icon}</div>
                    <div class="ml-3 flex-1">
                        <div class="flex items-center justify-between">
                            <p class="text-sm font-medium text-gray-900">${title}</p>
                            ${urgent ? '<span class="ml-2 px-2 py-1 text-xs font-medium bg-red-100 text-red-800 rounded">URGENT</span>' : ''}
                        </div>
                        <p class="text-sm text-gray-700 mt-1">${message}</p>
                        <p class="text-xs text-gray-500 mt-2">${new Date().toLocaleTimeString()}</p>
                    </div>
                    <button onclick="removeToast(this)" class="ml-4 text-gray-400 hover:text-gray-600">
                        <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"></path>
                        </svg>
                    </button>
                </div>
            `;

        document.getElementById('toastContainer').appendChild(toast);

        // –ê–≤—Ç–æ—É–¥–∞–ª–µ–Ω–∏–µ
        if (document.getElementById('autoHide').checked && !urgent) {
          setTimeout(() => {
            if (toast.parentNode) {
              removeToast(toast.querySelector('button'));
            }
          }, 5000);
        }
      }

      function removeToast(button) {
        const toast = button.closest('div');
        toast.className = toast.className.replace('toast-enter', 'toast-exit');
        setTimeout(() => {
          if (toast.parentNode) {
            toast.parentNode.removeChild(toast);
          }
        }, 300);
      }

      function addToHistory(title, message, icon, urgent) {
        const historyContainer = document.getElementById('notificationHistory');

        // –£–¥–∞–ª—è–µ–º –∑–∞–≥–ª—É—à–∫—É
        if (
          historyContainer.children.length === 1 &&
          historyContainer.children[0].textContent.includes('–ù–µ—Ç —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π')
        ) {
          historyContainer.innerHTML = '';
        }

        const historyItem = document.createElement('div');
        historyItem.className = `p-3 border rounded-lg ${urgent ? 'border-red-200 bg-red-50' : 'border-gray-200 bg-gray-50'}`;
        historyItem.innerHTML = `
                <div class="flex items-center justify-between">
                    <div class="flex items-center space-x-3">
                        <span class="text-lg">${icon}</span>
                        <div>
                            <p class="font-medium">${title}</p>
                            <p class="text-sm text-gray-600">${message}</p>
                        </div>
                    </div>
                    <span class="text-xs text-gray-500">${new Date().toLocaleTimeString()}</span>
                </div>
            `;

        historyContainer.insertBefore(historyItem, historyContainer.firstChild);

        // –û–≥—Ä–∞–Ω–∏—á–∏–≤–∞–µ–º –∏—Å—Ç–æ—Ä–∏—é 50 —ç–ª–µ–º–µ–Ω—Ç–∞–º–∏
        while (historyContainer.children.length > 50) {
          historyContainer.removeChild(historyContainer.lastChild);
        }
      }

      function updateCounters() {
        document.getElementById('totalNotifications').textContent =
          notificationCount;
        document.getElementById('signalNotifications').textContent =
          signalCount;
        document.getElementById('alertNotifications').textContent = alertCount;
        document.getElementById('urgentNotifications').textContent =
          urgentCount;
      }

      function clearAllNotifications() {
        document.getElementById('toastContainer').innerHTML = '';
        document.getElementById('notificationHistory').innerHTML =
          '<p class="text-gray-500 text-center py-8">–ù–µ—Ç —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π</p>';
        notificationCount = 0;
        signalCount = 0;
        alertCount = 0;
        urgentCount = 0;
        updateCounters();
      }

      // –ë—Ä–∞—É–∑–µ—Ä–Ω—ã–µ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è
      async function requestNotificationPermission() {
        if ('Notification' in window) {
          const permission = await Notification.requestPermission();
          if (permission === 'granted') {
            showNotification(
              '–†–∞–∑—Ä–µ—à–µ–Ω–∏—è –ø–æ–ª—É—á–µ–Ω—ã',
              '–¢–µ–ø–µ—Ä—å –≤—ã –±—É–¥–µ—Ç–µ –ø–æ–ª—É—á–∞—Ç—å –±—Ä–∞—É–∑–µ—Ä–Ω—ã–µ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è',
              '‚úÖ',
              'green',
              false
            );
          } else {
            alert('–†–∞–∑—Ä–µ—à–µ–Ω–∏—è –Ω–∞ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –æ—Ç–∫–ª–æ–Ω–µ–Ω—ã');
          }
        } else {
          alert('–ë—Ä–∞—É–∑–µ—Ä –Ω–µ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è');
        }
      }

      function showBrowserNotification(title, message) {
        if ('Notification' in window && Notification.permission === 'granted') {
          const notification = new Notification(title, {
            body: message,
            icon: '/favicon.ico',
            badge: '/favicon.ico',
          });

          setTimeout(() => notification.close(), 5000);
        }
      }

      function testBrowserNotification() {
        showBrowserNotification(
          '–¢–µ—Å—Ç –±—Ä–∞—É–∑–µ—Ä–Ω–æ–≥–æ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è',
          '–≠—Ç–æ —Ç–µ—Å—Ç–æ–≤–æ–µ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ –æ—Ç CryptoAnalytics'
        );
      }

      function playNotificationSound() {
        // –ü—Ä–æ—Å—Ç–æ–π –∑–≤—É–∫ —Å –ø–æ–º–æ—â—å—é Web Audio API
        const audioContext = new (window.AudioContext ||
          window.webkitAudioContext)();
        const oscillator = audioContext.createOscillator();
        const gainNode = audioContext.createGain();

        oscillator.connect(gainNode);
        gainNode.connect(audioContext.destination);

        oscillator.frequency.setValueAtTime(800, audioContext.currentTime);
        oscillator.frequency.setValueAtTime(
          600,
          audioContext.currentTime + 0.1
        );

        gainNode.gain.setValueAtTime(0.1, audioContext.currentTime);
        gainNode.gain.setValueAtTime(0, audioContext.currentTime + 0.2);

        oscillator.start();
        oscillator.stop(audioContext.currentTime + 0.2);
      }

      // –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –¥–µ–º–æ–Ω—Å—Ç—Ä–∞—Ü–∏—è
      function startAutoDemo() {
        const demos = [
          showSignalNotification,
          showTargetReached,
          showPriceAlert,
          showStopLoss,
        ];
        setInterval(() => {
          if (Math.random() < 0.3) {
            // 30% —à–∞–Ω—Å –∫–∞–∂–¥—ã–µ 5 —Å–µ–∫—É–Ω–¥
            const randomDemo = demos[Math.floor(Math.random() * demos.length)];
            randomDemo();
          }
        }, 5000);
      }

      // –ó–∞–ø—É—Å–∫ –∞–≤—Ç–æ–¥–µ–º–æ —á–µ—Ä–µ–∑ 3 —Å–µ–∫—É–Ω–¥—ã
      setTimeout(startAutoDemo, 3000);

      // –ü—Ä–∏–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ–µ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ
      setTimeout(() => {
        showNotification(
          '–°–∏—Å—Ç–µ–º–∞ –∑–∞–ø—É—â–µ–Ω–∞',
          '–î–µ–º–æ–Ω—Å—Ç—Ä–∞—Ü–∏—è —Å–∏—Å—Ç–µ–º—ã —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π –≥–æ—Ç–æ–≤–∞ –∫ —Ä–∞–±–æ—Ç–µ',
          'üöÄ',
          'blue',
          false
        );
      }, 1000);
    </script>
  </body>
</html>
